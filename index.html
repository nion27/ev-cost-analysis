<!DOCTYPE html>
<!-- saved from url=(0073)file:///C:/Users/74653/Downloads/deepseek_html_20260103_6e1f8c%20(1).html -->
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç»¿åŠ¨æ™ºè¿ - ç”µåŠ¨è´§è½¦è¿è¥æˆæœ¬æ™ºèƒ½åˆ†æç³»ç»Ÿ</title>
    <style>
        :root {
            --primary: #10b981;
            --secondary: #3b82f6;
            --accent: #8b5cf6;
            --dark: #1f2937;
            --light: #f9fafb;
            --card-bg: #ffffff;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #f0f9ff 0%, #e6f7ff 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            border-radius: 15px 15px 0 0;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }
        
        .logo {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
        }
        
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 25px;
            box-shadow: var(--shadow);
            border-top: 4px solid var(--primary);
        }
        
        .card-title {
            color: var(--dark);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e5e7eb;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card-title i {
            color: var(--primary);
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .input-value {
            color: var(--secondary);
            font-weight: 700;
        }
        
        .slider-container {
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }
        
        input[type="range"] {
            width: 100%;
            height: 8px;
            -webkit-appearance: none;
            background: linear-gradient(90deg, #dbeafe, var(--secondary));
            border-radius: 4px;
            outline: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 22px;
            height: 22px;
            background: var(--primary);
            border-radius: 50%;
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .value-display {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--dark);
            margin-top: 5px;
            text-align: center;
        }
        
        .unit {
            font-size: 0.9rem;
            color: #6b7280;
        }
        
        .control-panel {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: center;
        }
        
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), #0ea5e9);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(16, 185, 129, 0.3);
        }
        
        .btn-secondary {
            background: #f3f4f6;
            color: var(--dark);
        }
        
        .btn-secondary:hover {
            background: #e5e7eb;
        }
        
        .results-section {
            margin-top: 40px;
        }
        
        .cost-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .cost-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: transform 0.3s ease;
        }
        
        .cost-card:hover {
            transform: translateY(-5px);
        }
        
        .cost-label {
            font-size: 0.9rem;
            color: #6b7280;
            margin-bottom: 10px;
        }
        
        .cost-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--dark);
            margin: 10px 0;
        }
        
        .cost-detail {
            font-size: 0.85rem;
            color: #9ca3af;
            margin-top: 5px;
        }
        
        .highlight {
            background: linear-gradient(135deg, #fffbeb, #fef3c7);
            border: 2px solid #f59e0b;
        }
        
        .chart-container {
            margin-top: 40px;
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: var(--shadow);
        }
        
        .chart-placeholder {
            height: 300px;
            background: linear-gradient(135deg, #f0f9ff, #e6f7ff);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--dark);
            font-weight: 600;
        }
        
        .assumptions {
            background: #f8fafc;
            padding: 20px;
            border-radius: 8px;
            margin-top: 30px;
            border-left: 4px solid var(--accent);
        }
        
        .assumption-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .assumption-item:last-child {
            border-bottom: none;
        }
        
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }
        
        @media (max-width: 768px) {
            .comparison {
                grid-template-columns: 1fr;
            }
        }
        
        .comparison-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: var(--shadow);
        }
        
        footer {
            text-align: center;
            padding: 30px 0;
            color: #6b7280;
            margin-top: 50px;
            border-top: 1px solid #e5e7eb;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* æŠ˜æ—§åˆ†è§£æ ·å¼ */
        .depreciation-breakdown {
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
            font-size: 0.9rem;
        }
        
        .depreciation-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .depreciation-item:last-child {
            margin-bottom: 0;
            font-weight: 600;
            border-top: 1px solid #e5e7eb;
            padding-top: 8px;
        }
        
        /* æ–°å¢ï¼šé«˜çº§å‚æ•°å¼€å…³ */
        .advanced-toggle {
            text-align: center;
            margin: 20px 0;
        }
        
        .advanced-section {
            display: none;
            margin-top: 30px;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .toggle-btn {
            background: #e5e7eb;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }
        
        .toggle-btn:hover {
            background: #d1d5db;
        }
        
        .toggle-btn.active {
            background: var(--primary);
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">ğŸš› ç»¿åŠ¨æ™ºè¿</div>
            <h1>ç”µåŠ¨è´§è½¦è¿è¥æˆæœ¬æ™ºèƒ½åˆ†æç³»ç»Ÿ</h1>
            <p class="subtitle">ä¸“ä¸ºçŸ­é€”ç‰©æµè®¾è®¡çš„ç”µåŠ¨è´§è½¦æˆæœ¬æ•ˆç›Šåˆ†æå·¥å…· | å•æ¬¡è¡Œç¨‹ â‰¤ 100km | å¹³å‡è£…è½½ç‡ 75%</p>
        </header>
        
        <div class="dashboard">
            <div class="card">
                <div class="card-title">
                    <span>ğŸ“Š è¿è¥å‚æ•°è®¾ç½®</span>
                </div>
                
                <div class="input-group">
                    <div class="input-label">
                        <span>æœˆè¿è¥é‡Œç¨‹</span>
                        <span class="input-value" id="mileageValue">3,000 km</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="monthlyMileage" min="1000" max="8000" value="3000" step="100">
                        <div class="value-display"><span id="mileageDisplay">3,000</span> <span class="unit">å…¬é‡Œ</span></div>
                    </div>
                </div>
                
                <div class="input-group">
                    <div class="input-label">
                        <span>è´§è½¦é¢å®šè½½é‡</span>
                        <span class="input-value" id="loadValue">4.0 å¨</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="loadCapacity" min="1" max="10" value="4" step="0.5">
                        <div class="value-display"><span id="loadDisplay">4.0</span> <span class="unit">å¨</span></div>
                    </div>
                </div>
                
                <div class="input-group">
                    <div class="input-label">
                        <span>å¹³å‡è¡Œç¨‹è·ç¦»</span>
                        <span class="input-value" id="tripValue">80 km</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="tripDistance" min="20" max="100" value="80" step="5">
                        <div class="value-display"><span id="tripDisplay">80</span> <span class="unit">å…¬é‡Œ</span></div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-title">
                    <span>ğŸ’° åŸºç¡€æˆæœ¬å‚æ•°</span>
                </div>
                
                <div class="input-group">
                    <div class="input-label">
                        <span>è½¦è¾†è´­ç½®æ€»æˆæœ¬</span>
                        <span class="input-value" id="priceValue">250,000 å…ƒ</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="truckPrice" min="150000" max="400000" value="250000" step="5000">
                        <div class="value-display"><span id="priceDisplay">250,000</span> <span class="unit">å…ƒ</span></div>
                    </div>
                </div>
                
                <div class="input-group">
                    <div class="input-label">
                        <span>ç”µæ± ç³»ç»Ÿæˆæœ¬</span>
                        <span class="input-value" id="batteryValue">80,000 å…ƒ</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="batteryCost" min="30000" max="150000" value="80000" step="5000">
                        <div class="value-display"><span id="batteryDisplay">80,000</span> <span class="unit">å…ƒ</span></div>
                    </div>
                    <div style="font-size: 0.85rem; color: #6b7280; text-align: center; margin-top: 5px;">
                        å è½¦è¾†æ€»ä»·çš„ <span id="batteryRatio">32.0%</span>
                    </div>
                </div>
                
                <div class="input-group">
                    <div class="input-label">
                        <span>ç”¨ç”µæˆæœ¬</span>
                        <span class="input-value" id="electricityValue">1.20 å…ƒ/åº¦</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="electricityPrice" min="0.6" max="2.0" value="1.20" step="0.05">
                        <div class="value-display"><span id="electricityDisplay">1.20</span> <span class="unit">å…ƒ/åº¦</span></div>
                    </div>
                </div>
                
                <div class="input-group">
                    <div class="input-label">
                        <span>èƒ½è€—æ•ˆç‡</span>
                        <span class="input-value" id="energyValue">35 åº¦/ç™¾å…¬é‡Œ</span>
                    </div>
                    <div class="slider-container">
                        <input type="range" id="energyPer100km" min="25" max="50" value="35" step="1">
                        <div class="value-display"><span id="energyDisplay">35</span> <span class="unit">åº¦/ç™¾å…¬é‡Œ</span></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- é«˜çº§å‚æ•°å¼€å…³ -->
        <div class="advanced-toggle">
            <button class="toggle-btn active" onclick="toggleAdvanced()" id="toggleBtn"><span>â¬†ï¸</span><span>éšè—é«˜çº§å‚æ•°è®¾ç½®</span></button>
        </div>
        
        <!-- é«˜çº§å‚æ•°åŒºåŸŸ -->
        <div class="advanced-section" id="advancedSection" style="display: block;">
            <div class="card">
                <div class="card-title">
                    <span>ğŸ”§ é«˜çº§å‚æ•°é…ç½®</span>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div>
                        <div class="input-group">
                            <div class="input-label">
                                <span>è½¦è¾†æŠ˜æ—§å¹´é™</span>
                                <span class="input-value" id="vehicleLifeValue">8 å¹´</span>
                            </div>
                            <div class="slider-container">
                                <input type="range" id="vehicleLife" min="5" max="10" value="8" step="1">
                                <div class="value-display"><span id="vehicleLifeDisplay">8</span> <span class="unit">å¹´</span></div>
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <div class="input-label">
                                <span>ç”µæ± å¯¿å‘½å‘¨æœŸ</span>
                                <span class="input-value" id="batteryLifeValue">5 å¹´</span>
                            </div>
                            <div class="slider-container">
                                <input type="range" id="batteryLife" min="3" max="8" value="5" step="1">
                                <div class="value-display"><span id="batteryLifeDisplay">5</span> <span class="unit">å¹´</span></div>
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <div class="input-group">
                            <div class="input-label">
                                <span>è½¦è¾†æ®‹å€¼ç‡</span>
                                <span class="input-value" id="residualValue">15%</span>
                            </div>
                            <div class="slider-container">
                                <input type="range" id="residualRate" min="5" max="30" value="15" step="1">
                                <div class="value-display"><span id="residualDisplay">15</span> <span class="unit">%</span></div>
                            </div>
                        </div>
                        
                        <div class="input-group">
                            <div class="input-label">
                                <span>æœˆä¿å…»è´¹</span>
                                <span class="input-value" id="maintenanceValue">300 å…ƒ</span>
                            </div>
                            <div class="slider-container">
                                <input type="range" id="maintenance" min="100" max="1000" value="300" step="50">
                                <div class="value-display"><span id="maintenanceDisplay">300</span> <span class="unit">å…ƒ</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="control-panel">
            <button class="btn btn-secondary" onclick="resetValues()">
                <span>ğŸ”„ æ¢å¤é»˜è®¤</span>
            </button>
            <button class="btn btn-primary" onclick="calculateCost()">
                <span>ğŸš€ å¼€å§‹æ™ºèƒ½åˆ†æ</span>
            </button>
        </div>
        
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>æ­£åœ¨è®¡ç®—æˆæœ¬æ•ˆç›Šåˆ†æ...</p>
        </div>
        
        <div class="results-section" id="results" style="display: none;">
            <div class="card">
                <div class="card-title">
                    <span>ğŸ“ˆ æœˆåº¦æˆæœ¬åˆ†ææŠ¥å‘Š</span>
                </div>
                
                <div class="cost-breakdown">
                    <div class="cost-card">
                        <div class="cost-label">å›ºå®šæˆæœ¬</div>
                        <div class="cost-value" id="fixedCost">Â¥0</div>
                        <div class="cost-detail">æŠ˜æ—§ + ä¿é™© + äººåŠ›</div>
                    </div>
                    
                    <div class="cost-card">
                        <div class="cost-label">å˜åŠ¨æˆæœ¬</div>
                        <div class="cost-value" id="variableCost">Â¥0</div>
                        <div class="cost-detail">èƒ½æº + ä¿å…» + ç»´ä¿®</div>
                    </div>
                    
                    <div class="cost-card highlight">
                        <div class="cost-label">æœˆåº¦æ€»æˆæœ¬</div>
                        <div class="cost-value" id="totalCost">Â¥0</div>
                        <div class="cost-detail">è¿è¥æ€»æ”¯å‡º</div>
                    </div>
                    
                    <div class="cost-card">
                        <div class="cost-label">å•ä½æˆæœ¬</div>
                        <div class="cost-value" id="unitCost">Â¥0.00</div>
                        <div class="cost-detail">å…ƒ/å¨Â·å…¬é‡Œ</div>
                    </div>
                </div>
                
                <div class="chart-container">
                    <h3>ğŸ“Š æˆæœ¬ç»“æ„åˆ†å¸ƒ</h3>
                    <div class="chart-placeholder" id="chartPlaceholder">
                        æˆæœ¬å¯è§†åŒ–å›¾è¡¨åŒºåŸŸ
                    </div>
                </div>
            </div>
            
            <div class="comparison">
                <div class="comparison-card">
                    <h3>ğŸ“‹ æˆæœ¬æ˜ç»†è¡¨</h3>
                    <div id="costDetails">
                        <!-- åŠ¨æ€ç”Ÿæˆæˆæœ¬æ˜ç»† -->
                    </div>
                </div>
                
                <div class="comparison-card">
                    <h3>ğŸ’¡ ä¼˜åŒ–å»ºè®®</h3>
                    <div id="suggestions">
                        <!-- åŠ¨æ€ç”Ÿæˆå»ºè®® -->
                    </div>
                </div>
            </div>
            
            <div class="assumptions">
                <h3>ğŸ“ å½“å‰å‚æ•°è®¾ç½®</h3>
                <div class="assumption-item">
                    <span>è½¦è¾†è´­ç½®æ€»æˆæœ¬</span>
                    <span id="assumePrice">250,000å…ƒ</span>
                </div>
                <div class="assumption-item">
                    <span>ç”µæ± ç³»ç»Ÿæˆæœ¬</span>
                    <span id="assumeBattery">80,000å…ƒ</span>
                </div>
                <div class="assumption-item">
                    <span>è½¦è¾†æŠ˜æ—§å¹´é™</span>
                    <span id="assumeVehicleLife">8å¹´</span>
                </div>
                <div class="assumption-item">
                    <span>ç”µæ± å¯¿å‘½å‘¨æœŸ</span>
                    <span id="assumeBatteryLife">5å¹´</span>
                </div>
                <div class="assumption-item">
                    <span>è½¦è¾†æ®‹å€¼ç‡</span>
                    <span id="assumeResidual">15%</span>
                </div>
                <div class="assumption-item">
                    <span>æœˆä¿é™©è´¹</span>
                    <span>800å…ƒ</span>
                </div>
                <div class="assumption-item">
                    <span>æœˆä¿å…»è´¹</span>
                    <span id="assumeMaintenance">300å…ƒ</span>
                </div>
                <div class="assumption-item">
                    <span>å¸æœºæœˆè–ª</span>
                    <span>6,000å…ƒ</span>
                </div>
                <div class="assumption-item">
                    <span>æœˆåœè½¦ç®¡ç†è´¹</span>
                    <span>200å…ƒ</span>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Â© 2025 ç»¿åŠ¨æ™ºè¿ - ç”µåŠ¨è´§è½¦è¿è¥æˆæœ¬åˆ†æç³»ç»Ÿ | è¯¾ç¨‹é¡¹ç›®ï¼šäº¤é€šè¿è¾“æˆæœ¬æµ‹ç®—</p>
            <p>ç‰ˆæœ¬ï¼š3.0 | ä¸“ä¸šæŠ˜æ—§è®¡ç®—ï¼šè½¦è¾†æœ¬ä½“ä¸ç”µæ± ç³»ç»Ÿåˆ†å¼€è®¡ç®— | æœ€åæ›´æ–°ï¼š2025å¹´1æœˆ</p>
        </footer>
    </div>

    <script>
        // åˆå§‹åŒ–æ»‘å—äº‹ä»¶
        function initializeSliders() {
            const sliders = document.querySelectorAll('input[type="range"]');
            sliders.forEach(slider => {
                slider.addEventListener('input', updateSliderValue);
                updateSliderValue({target: slider});
            });
        }
        
        function updateSliderValue(e) {
            const slider = e.target;
            const value = parseFloat(slider.value);
            const id = slider.id;
            
            switch(id) {
                case 'monthlyMileage':
                    document.getElementById('mileageValue').textContent = value.toLocaleString() + ' km';
                    document.getElementById('mileageDisplay').textContent = value.toLocaleString();
                    break;
                case 'loadCapacity':
                    document.getElementById('loadValue').textContent = value.toFixed(1) + ' å¨';
                    document.getElementById('loadDisplay').textContent = value.toFixed(1);
                    break;
                case 'tripDistance':
                    document.getElementById('tripValue').textContent = value + ' km';
                    document.getElementById('tripDisplay').textContent = value;
                    break;
                case 'truckPrice':
                    document.getElementById('priceValue').textContent = value.toLocaleString() + ' å…ƒ';
                    document.getElementById('priceDisplay').textContent = value.toLocaleString();
                    updateBatteryRatio();
                    break;
                case 'batteryCost':
                    document.getElementById('batteryValue').textContent = value.toLocaleString() + ' å…ƒ';
                    document.getElementById('batteryDisplay').textContent = value.toLocaleString();
                    updateBatteryRatio();
                    break;
                case 'electricityPrice':
                    document.getElementById('electricityValue').textContent = value.toFixed(2) + ' å…ƒ/åº¦';
                    document.getElementById('electricityDisplay').textContent = value.toFixed(2);
                    break;
                case 'energyPer100km':
                    document.getElementById('energyValue').textContent = value + ' åº¦/ç™¾å…¬é‡Œ';
                    document.getElementById('energyDisplay').textContent = value;
                    break;
                case 'vehicleLife':
                    document.getElementById('vehicleLifeValue').textContent = value + ' å¹´';
                    document.getElementById('vehicleLifeDisplay').textContent = value;
                    break;
                case 'batteryLife':
                    document.getElementById('batteryLifeValue').textContent = value + ' å¹´';
                    document.getElementById('batteryLifeDisplay').textContent = value;
                    break;
                case 'residualRate':
                    document.getElementById('residualValue').textContent = value + '%';
                    document.getElementById('residualDisplay').textContent = value;
                    break;
                case 'maintenance':
                    document.getElementById('maintenanceValue').textContent = value.toLocaleString() + ' å…ƒ';
                    document.getElementById('maintenanceDisplay').textContent = value.toLocaleString();
                    break;
            }
        }
        
        function updateBatteryRatio() {
            const truckPrice = parseFloat(document.getElementById('truckPrice').value);
            const batteryCost = parseFloat(document.getElementById('batteryCost').value);
            const ratio = ((batteryCost / truckPrice) * 100).toFixed(1);
            document.getElementById('batteryRatio').textContent = ratio + '%';
        }
        
        function toggleAdvanced() {
            const section = document.getElementById('advancedSection');
            const btn = document.getElementById('toggleBtn');
            
            if (section.style.display === 'block') {
                section.style.display = 'none';
                btn.innerHTML = '<span>âš™ï¸</span><span>æ˜¾ç¤ºé«˜çº§å‚æ•°è®¾ç½®</span>';
                btn.classList.remove('active');
            } else {
                section.style.display = 'block';
                btn.innerHTML = '<span>â¬†ï¸</span><span>éšè—é«˜çº§å‚æ•°è®¾ç½®</span>';
                btn.classList.add('active');
            }
        }
        
        function resetValues() {
            // é‡ç½®åŸºç¡€å‚æ•°
            document.getElementById('monthlyMileage').value = 3000;
            document.getElementById('loadCapacity').value = 4;
            document.getElementById('tripDistance').value = 80;
            document.getElementById('truckPrice').value = 250000;
            document.getElementById('batteryCost').value = 80000;
            document.getElementById('electricityPrice').value = 1.20;
            document.getElementById('energyPer100km').value = 35;
            
            // é‡ç½®é«˜çº§å‚æ•°
            document.getElementById('vehicleLife').value = 8;
            document.getElementById('batteryLife').value = 5;
            document.getElementById('residualRate').value = 15;
            document.getElementById('maintenance').value = 300;
            
            // æ›´æ–°æ‰€æœ‰æ˜¾ç¤º
            document.querySelectorAll('input[type="range"]').forEach(slider => {
                updateSliderValue({target: slider});
            });
            
            // éšè—ç»“æœ
            document.getElementById('results').style.display = 'none';
        }
        
        // ä¸“ä¸šæŠ˜æ—§è®¡ç®—å‡½æ•°
        function calculateDepreciation(truckPrice, batteryCost, vehicleLifeYears, batteryLifeYears, residualRatePercent) {
            const residualRate = residualRatePercent / 100;
            
            // 1. è®¡ç®—è½¦è¾†æœ¬ä½“ä»·æ ¼ï¼ˆæ€»ä»·å‡å»ç”µæ± ï¼‰
            const vehiclePrice = truckPrice - batteryCost;
            
            // 2. è½¦è¾†æœ¬ä½“æœˆæŠ˜æ—§ï¼ˆç›´çº¿æ³•ï¼Œè€ƒè™‘æ®‹å€¼ï¼‰
            const vehicleMonthlyDep = (vehiclePrice * (1 - residualRate)) / (vehicleLifeYears * 12);
            
            // 3. ç”µæ± ç³»ç»ŸæœˆæŠ˜æ—§ï¼ˆæ— æ®‹å€¼ï¼Œåˆ°æœŸæ›´æ¢ï¼‰
            const batteryMonthlyDep = batteryCost / (batteryLifeYears * 12);
            
            // 4. æ€»æœˆæŠ˜æ—§
            const totalMonthlyDep = vehicleMonthlyDep + batteryMonthlyDep;
            
            return {
                vehiclePrice: vehiclePrice,
                vehicleDep: vehicleMonthlyDep,
                batteryDep: batteryMonthlyDep,
                totalDep: totalMonthlyDep,
                batteryRatio: (batteryCost / truckPrice * 100).toFixed(1) + '%'
            };
        }
        
        function calculateCost() {
            // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
            document.getElementById('loading').style.display = 'block';
            
            // æ¨¡æ‹Ÿè®¡ç®—å»¶è¿Ÿ
            setTimeout(() => {
                // è·å–åŸºç¡€å‚æ•°
                const monthlyMileage = parseFloat(document.getElementById('monthlyMileage').value);
                const loadCapacity = parseFloat(document.getElementById('loadCapacity').value);
                const truckPrice = parseFloat(document.getElementById('truckPrice').value);
                const batteryCost = parseFloat(document.getElementById('batteryCost').value);
                const electricityPrice = parseFloat(document.getElementById('electricityPrice').value);
                const energyPer100km = parseFloat(document.getElementById('energyPer100km').value);
                
                // è·å–é«˜çº§å‚æ•°
                const vehicleLife = parseFloat(document.getElementById('vehicleLife').value);
                const batteryLife = parseFloat(document.getElementById('batteryLife').value);
                const residualRate = parseFloat(document.getElementById('residualRate').value);
                const maintenance = parseFloat(document.getElementById('maintenance').value);
                
                // å›ºå®šå‚æ•°
                const monthlyInsurance = 800;        // æœˆä¿é™©è´¹
                const driverSalary = 6000;           // å¸æœºæœˆè–ª
                const parkingFee = 200;              // æœˆåœè½¦è´¹
                
                // éªŒè¯æ•°æ®åˆç†æ€§
                if (batteryCost > truckPrice) {
                    alert('é”™è¯¯ï¼šç”µæ± æˆæœ¬ä¸èƒ½é«˜äºè½¦è¾†æ€»ä»·ï¼');
                    document.getElementById('loading').style.display = 'none';
                    return;
                }
                
                // è®¡ç®—æŠ˜æ—§ï¼ˆä¸“ä¸šæ–¹æ³•ï¼‰
                const depreciation = calculateDepreciation(
                    truckPrice, 
                    batteryCost, 
                    vehicleLife, 
                    batteryLife, 
                    residualRate
                );
                
                // å›ºå®šæˆæœ¬
                const fixedCost = depreciation.totalDep + monthlyInsurance + driverSalary + parkingFee;
                
                // å˜åŠ¨æˆæœ¬
                const electricityCost = monthlyMileage * (energyPer100km / 100) * electricityPrice;
                const variableCost = electricityCost + maintenance;
                
                // æ€»æˆæœ¬
                const totalCost = fixedCost + variableCost;
                
                // å•ä½æˆæœ¬ï¼ˆå…ƒ/å¨å…¬é‡Œï¼Œè£…è½½ç‡75%ï¼‰
                const unitCost = totalCost / (monthlyMileage * loadCapacity * 0.75);
                
                // æ›´æ–°å‡è®¾æ¡ä»¶æ˜¾ç¤º
                document.getElementById('assumePrice').textContent = truckPrice.toLocaleString() + 'å…ƒ';
                document.getElementById('assumeBattery').textContent = batteryCost.toLocaleString() + 'å…ƒ';
                document.getElementById('assumeVehicleLife').textContent = vehicleLife + 'å¹´';
                document.getElementById('assumeBatteryLife').textContent = batteryLife + 'å¹´';
                document.getElementById('assumeResidual').textContent = residualRate + '%';
                document.getElementById('assumeMaintenance').textContent = maintenance.toLocaleString() + 'å…ƒ';
                
                // æ›´æ–°ç»“æœå±•ç¤º
                document.getElementById('fixedCost').textContent = 'Â¥' + fixedCost.toFixed(2);
                document.getElementById('variableCost').textContent = 'Â¥' + variableCost.toFixed(2);
                document.getElementById('totalCost').textContent = 'Â¥' + totalCost.toFixed(2);
                document.getElementById('unitCost').textContent = 'Â¥' + unitCost.toFixed(4);
                
                // ç”Ÿæˆæˆæœ¬æ˜ç»†ï¼ˆåŒ…å«æŠ˜æ—§åˆ†è§£ï¼‰
                generateCostDetails({
                    depreciation: depreciation,
                    insurance: monthlyInsurance,
                    salary: driverSalary,
                    parking: parkingFee,
                    electricity: electricityCost,
                    maintenance: maintenance,
                    fixedCost: fixedCost,
                    variableCost: variableCost,
                    totalCost: totalCost,
                    unitCost: unitCost,
                    loadCapacity: loadCapacity,
                    monthlyMileage: monthlyMileage
                });
                
                // ç”Ÿæˆä¼˜åŒ–å»ºè®®
                generateSuggestions(unitCost, monthlyMileage, electricityCost, fixedCost, truckPrice, batteryCost, depreciation);
                
                // éšè—åŠ è½½åŠ¨ç”»ï¼Œæ˜¾ç¤ºç»“æœ
                document.getElementById('loading').style.display = 'none';
                document.getElementById('results').style.display = 'block';
                
                // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
                document.getElementById('results').scrollIntoView({behavior: 'smooth'});
                
            }, 1000);
        }
        
        function generateCostDetails(costs) {
            const detailsHtml = `
                <div style="margin-top: 15px;">
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e5e7eb;">
                        <span>æŠ˜æ—§è´¹ç”¨ï¼ˆä¸“ä¸šåˆ†è§£ï¼‰</span>
                        <span style="font-weight: 600;">Â¥${costs.depreciation.totalDep.toFixed(2)}</span>
                    </div>
                    <div class="depreciation-breakdown">
                        <div class="depreciation-item">
                            <span>è½¦è¾†æœ¬ä½“æŠ˜æ—§ï¼ˆè€ƒè™‘æ®‹å€¼ï¼‰</span>
                            <span>Â¥${costs.depreciation.vehicleDep.toFixed(2)}</span>
                        </div>
                        <div class="depreciation-item">
                            <span>ç”µæ± ç³»ç»ŸæŠ˜æ—§ï¼ˆåˆ°æœŸæ›´æ¢ï¼‰</span>
                            <span>Â¥${costs.depreciation.batteryDep.toFixed(2)}</span>
                        </div>
                        <div class="depreciation-item">
                            <span>æœˆæŠ˜æ—§åˆè®¡</span>
                            <span>Â¥${costs.depreciation.totalDep.toFixed(2)}</span>
                        </div>
                    </div>
                    
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e5e7eb;">
                        <span>ä¿é™©è´¹ç”¨</span>
                        <span style="font-weight: 600;">Â¥${costs.insurance.toFixed(2)}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e5e7eb;">
                        <span>å¸æœºå·¥èµ„</span>
                        <span style="font-weight: 600;">Â¥${costs.salary.toFixed(2)}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e5e7eb;">
                        <span>åœè½¦ç®¡ç†è´¹ç”¨</span>
                        <span style="font-weight: 600;">Â¥${costs.parking.toFixed(2)}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 2px solid var(--dark);">
                        <span style="font-weight: 700;">å›ºå®šæˆæœ¬å°è®¡</span>
                        <span style="font-weight: 700; color: var(--secondary);">Â¥${costs.fixedCost.toFixed(2)}</span>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #e5e7eb;">
                            <span>ç”µåŠ›æ¶ˆè€—è´¹ç”¨</span>
                            <span style="font-weight: 600; color: var(--primary);">Â¥${costs.electricity.toFixed(2)}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 2px solid var(--dark);">
                            <span>è½¦è¾†ä¿å…»è´¹ç”¨</span>
                            <span style="font-weight: 600;">Â¥${costs.maintenance.toFixed(2)}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 8px 0;">
                            <span style="font-weight: 700;">å˜åŠ¨æˆæœ¬å°è®¡</span>
                            <span style="font-weight: 700; color: var(--primary);">Â¥${costs.variableCost.toFixed(2)}</span>
                        </div>
                    </div>
                    
                    <div style="margin-top: 30px; padding: 15px; background: #f0f9ff; border-radius: 8px;">
                        <div style="display: flex; justify-content: space-between;">
                            <span style="font-weight: 700; font-size: 1.1rem;">æœˆåº¦è¿è¥æ€»æˆæœ¬</span>
                            <span style="font-weight: 700; font-size: 1.1rem; color: var(--secondary);">Â¥${costs.totalCost.toFixed(2)}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-top: 10px;">
                            <span>æœˆåº¦æ€»è¿è¥é‡</span>
                            <span>${(costs.monthlyMileage * costs.loadCapacity * 0.75).toFixed(0)} å¨Â·å…¬é‡Œ</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-top: 5px;">
                            <span>å•ä½è¿è¾“æˆæœ¬ï¼ˆè£…è½½ç‡75%ï¼‰</span>
                            <span style="font-weight: 700; color: var(--accent);">Â¥${costs.unitCost.toFixed(4)} å…ƒ/å¨Â·å…¬é‡Œ</span>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('costDetails').innerHTML = detailsHtml;
        }
        
        function generateSuggestions(unitCost, mileage, electricityCost, fixedCost, truckPrice, batteryCost, depreciation) {
            let suggestions = [];
            
            // åŸºäºå•ä½æˆæœ¬çš„å»ºè®®
            if (unitCost > 1.5) {
                suggestions.push("å•ä½æˆæœ¬åé«˜ï¼ˆ>1.5å…ƒ/å¨å…¬é‡Œï¼‰ï¼Œå»ºè®®ä¼˜åŒ–è¿è¥æ•ˆç‡");
            } else if (unitCost > 1.0 && unitCost <= 1.5) {
                suggestions.push("å•ä½æˆæœ¬å¤„äºè¡Œä¸šä¸­ç­‰æ°´å¹³");
            } else if (unitCost <= 1.0) {
                suggestions.push("å•ä½æˆæœ¬è¡¨ç°ä¼˜å¼‚ï¼Œå…·æœ‰è¾ƒå¼ºå¸‚åœºç«äº‰åŠ›");
            }
            
            // åŸºäºé‡Œç¨‹çš„å»ºè®®
            if (mileage < 2000) {
                suggestions.push("è¿è¥é‡Œç¨‹åä½ï¼Œå»ºè®®å¢åŠ ä¸šåŠ¡é‡ä»¥åˆ†æ‘Šå›ºå®šæˆæœ¬");
            }
            
            // åŸºäºç”µæ± å æ¯”çš„å»ºè®®
            const batteryRatio = batteryCost / truckPrice;
            if (batteryRatio > 0.4) {
                suggestions.push("ç”µæ± æˆæœ¬å æ¯”è¶…è¿‡40%ï¼Œå»ºè®®å…³æ³¨ç”µæ± å…»æŠ¤å’Œæ›´æ¢æ—¶æœº");
            }
            
            // åŸºäºæŠ˜æ—§ç»“æ„çš„å»ºè®®
            const batteryDepRatio = depreciation.batteryDep / depreciation.totalDep;
            if (batteryDepRatio > 0.5) {
                suggestions.push("ç”µæ± æŠ˜æ—§å æ¯”é«˜ï¼Œè€ƒè™‘å»¶é•¿ç”µæ± ä½¿ç”¨å¯¿å‘½çš„æªæ–½");
            }
            
            // é€šç”¨å»ºè®®
            suggestions.push("åˆ©ç”¨å¤œé—´è°·ç”µå……ç”µï¼ˆ0.3-0.6å…ƒ/åº¦ï¼‰ï¼Œå¯é™ä½ç”µåŠ›æˆæœ¬");
            suggestions.push("å®šæœŸä¿å…»ç»´æŠ¤ï¼Œå»¶é•¿è½¦è¾†å’Œç”µæ± ä½¿ç”¨å¯¿å‘½");
            suggestions.push("ä¼˜åŒ–é…é€è·¯çº¿å’Œè£…è½½ç‡ï¼Œæé«˜è¿è¥æ•ˆç‡");
            suggestions.push("å…³æ³¨æ”¿åºœæ–°èƒ½æºè½¦è¡¥è´´å’Œå……ç”µæ¡©å»ºè®¾æ”¿ç­–");
            
            const suggestionsHtml = `
                <div style="margin-top: 15px;">
                    <p style="color: #6b7280; margin-bottom: 15px;">åŸºäºå½“å‰å‚æ•°åˆ†æï¼Œä¸ºæ‚¨æä¾›ä»¥ä¸‹ä¼˜åŒ–å»ºè®®ï¼š</p>
                    <ul style="list-style-type: none; padding-left: 0;">
                        ${suggestions.map((suggestion, index) => `
                            <li style="padding: 10px; background: ${index % 2 === 0 ? '#f8fafc' : 'white'}; 
                                margin-bottom: 8px; border-radius: 6px; display: flex; align-items: center;">
                                <span style="color: var(--primary); margin-right: 10px;">âœ“</span>
                                ${suggestion}
                            </li>
                        `).join('')}
                    </ul>
                    <div style="margin-top: 20px; padding: 15px; background: linear-gradient(135deg, #f0f9ff, #e6f7ff); border-radius: 8px;">
                        <p style="font-weight: 600; color: var(--dark);">ğŸ’¡ ä¸“ä¸šåˆ†æ</p>
                        <p style="font-size: 0.9rem; color: #6b7280; margin-top: 5px;">
                            æœ¬ç³»ç»Ÿé‡‡ç”¨ä¸“ä¸šæŠ˜æ—§è®¡ç®—æ–¹æ³•ï¼šè½¦è¾†æœ¬ä½“æŒ‰${document.getElementById('vehicleLife').value}å¹´æŠ˜æ—§ï¼ˆæ®‹å€¼ç‡${document.getElementById('residualRate').value}%ï¼‰ï¼Œ
                            ç”µæ± ç³»ç»ŸæŒ‰${document.getElementById('batteryLife').value}å¹´å•ç‹¬æŠ˜æ—§ã€‚è¿™ç§è®¡ç®—æ–¹å¼æ›´ç¬¦åˆç”µåŠ¨è´§è½¦å®é™…è¿è¥æƒ…å†µã€‚
                        </p>
                    </div>
                </div>
            `;
            
            document.getElementById('suggestions').innerHTML = suggestionsHtml;
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.onload = function() {
            initializeSliders();
            updateBatteryRatio(); // åˆå§‹è®¡ç®—ç”µæ± å æ¯”
        };
    </script>

</body></html>